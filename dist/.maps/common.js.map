{"version":3,"sources":["common.js"],"names":["setDrag","sel","isPlaceHolder","$drag","$empty","$","attr","document","on","e","addClass","clone","stopPropagation","removeClass","is","preventDefault","index","remove","replaceWith","toggleClass"],"mappings":";;AAAA;AACA,SAASA,OAAT,CAAiBC,GAAjB,EAAsBC,aAAtB,EAAqC;AACpC,KAAIC,QAAQ,IAAZ;AACA,KAAIC,SAAS,IAAb;AACAC,GAAEJ,GAAF,EAAOK,IAAP,CAAY,WAAZ,EAAyB,MAAzB;AACAD,GAAEE,QAAF,EAAYC,EAAZ,CAAe,WAAf,EAA4BP,GAA5B,EAAiC,UAASQ,CAAT,EAAW;AAC3CJ,IAAE,IAAF,EAAQK,QAAR,CAAiB,WAAjB;AACAP,UAAQE,EAAE,IAAF,CAAR;AACA,MAAGH,aAAH,EAAiB;AAChBE,YAASC,EAAE,IAAF,EAAQM,KAAR,GAAgBD,QAAhB,CAAyB,WAAzB,CAAT;AACA;AACDD,IAAEG,eAAF;AACA,EAPD,EAOGJ,EAPH,CAOM,SAPN,EAOiBP,GAPjB,EAOsB,UAASQ,CAAT,EAAW;AAChCJ,IAAE,IAAF,EAAQQ,WAAR,CAAoB,WAApB;AACAV,UAAQ,IAAR;AACA,EAVD,EAUGK,EAVH,CAUM,WAVN,EAUmBP,GAVnB,EAUwB,UAASQ,CAAT,EAAW;AAClC,MAAGN,KAAH,EAAS;AACR,OAAGD,aAAH,EAAiB;AAChB,QAAG,CAACG,EAAE,IAAF,EAAQS,EAAR,CAAWX,KAAX,CAAJ,EAAsB;AACrBM,OAAEM,cAAF;AACAV,OAAE,IAAF,EAAQA,EAAE,IAAF,EAAQW,KAAR,KAAkBb,MAAMa,KAAN,EAAlB,GAAkC,OAAlC,GAA4C,QAApD,EAA8DZ,MAA9D;AACA,KAHD,MAGK;AACJA,YAAOa,MAAP;AACA;AACD,IAPD,MAOK;AACJR,MAAEM,cAAF;AACAV,MAAE,IAAF,EAAQA,EAAE,IAAF,EAAQW,KAAR,KAAkBb,MAAMa,KAAN,EAAlB,GAAkC,OAAlC,GAA4C,QAApD,EAA8Db,KAA9D;AACA;AACD;AACD,EAxBD,EAwBGK,EAxBH,CAwBM,UAxBN,EAwBkBP,GAxBlB,EAwBuB,UAASQ,CAAT,EAAW;AACjC,MAAGN,KAAH,EAAS;AACR,OAAGD,aAAH,EAAiB;AAChB,QAAG,CAACG,EAAE,IAAF,EAAQS,EAAR,CAAWX,KAAX,CAAJ,EAAsB;AACrBM,OAAEM,cAAF;AACA;AACD,IAJD,MAIK;AACJN,MAAEM,cAAF;AACA;AACD;AACD,EAlCD,EAkCGP,EAlCH,CAkCM,WAlCN,EAkCmBP,GAlCnB,EAkCwB,UAASQ,CAAT,EAAW;AAClC;AACA;AACA;AACA,EAtCD,EAsCGD,EAtCH,CAsCM,MAtCN,EAsCcP,GAtCd,EAsCmB,UAASQ,CAAT,EAAW;AAC7B,MAAGN,KAAH,EAAS;AACR,OAAGD,iBAAiB,CAACG,EAAE,IAAF,EAAQS,EAAR,CAAWX,KAAX,CAArB,EAAuC;AACtCC,WAAOc,WAAP,CAAmBf,KAAnB;AACA;AACD;AACD,EA5CD;AA6CA;;AAEDH,QAAQ,iBAAR,EAA2B,IAA3B;;AAEAA,QAAQ,mCAAR;AACAA,QAAQ,mCAAR;AACAA,QAAQ,mCAAR;AACAA,QAAQ,mCAAR;AACAA,QAAQ,WAAR;;AAEAK,EAAEE,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C,YAAM;AAC/CH,GAAE,YAAF,EAAgBc,WAAhB,CAA4B,UAA5B;AACA,CAFD","file":"../common.js","sourcesContent":["// 设置列表拖动排序\r\nfunction setDrag(sel, isPlaceHolder) {\r\n\tlet $drag = null;\r\n\tlet $empty = null;\r\n\t$(sel).attr('draggable', 'true');\r\n\t$(document).on('dragstart', sel, function(e){\r\n\t\t$(this).addClass('dragstart');\r\n\t\t$drag = $(this);\r\n\t\tif(isPlaceHolder){\r\n\t\t\t$empty = $(this).clone().addClass('dragempty')\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t}).on('dragend', sel, function(e){\r\n\t\t$(this).removeClass('dragstart');\r\n\t\t$drag = null;\r\n\t}).on('dragenter', sel, function(e){\r\n\t\tif($drag){\r\n\t\t\tif(isPlaceHolder){\r\n\t\t\t\tif(!$(this).is($drag)){\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t$(this)[$(this).index() > $drag.index() ? 'after' : 'before']($empty);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$empty.remove();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$(this)[$(this).index() > $drag.index() ? 'after' : 'before']($drag);\r\n\t\t\t}\r\n\t\t}\r\n\t}).on('dragover', sel, function(e){\r\n\t\tif($drag){\r\n\t\t\tif(isPlaceHolder){\r\n\t\t\t\tif(!$(this).is($drag)){\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t}).on('dragleave', sel, function(e){\r\n\t\t// if(!$(this).is($drag)){\r\n\t\t// \tconsole.log('dragleave');\r\n\t\t// }\r\n\t}).on('drop', sel, function(e){\r\n\t\tif($drag){\r\n\t\t\tif(isPlaceHolder && !$(this).is($drag)){\r\n\t\t\t\t$empty.replaceWith($drag);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nsetDrag('.left_list_item', true);\r\n\r\nsetDrag('.card_row:nth-child(1) .card_item');\r\nsetDrag('.card_row:nth-child(2) .card_item');\r\nsetDrag('.card_row:nth-child(3) .card_item');\r\nsetDrag('.card_row:nth-child(4) .card_item');\r\nsetDrag('.card_row');\r\n\r\n$(document).on('click', '.collapse_left', () => {\r\n\t$('.page_left').toggleClass('collapse');\r\n});"]}